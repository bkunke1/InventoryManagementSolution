<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/purchaseOrder.css" />
  </head>
  <body>
    <%- include('../includes/banner.ejs') %>
    <div id="main-menu">
      <div id="navbar">
        <ul>
          <li><a href="/" class="">Dashboard</a></li>
          <li><a href="/so" class="">Sales Orders</a></li>
          <li><a href="/po" class="active">Purchase Orders</a></li>
          <li><a href="/inventory/item-maintenance" class="">Inventory</a></li>
          <li><a href="/reports" class="">Reports</a></li>
          <li><a href="/sysconfig" class="">System Config</a></li>
        </ul>
      </div>
      <div id="sub-menu">
        <ul>
          <%- include('../includes/po-submenu.ejs') %>
        </ul>
      </div>
    </div>

    <div id="workspace">
      <form action="/po/save" method="POST" autocomplete="off" onsubmit="return sendTableData()">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <div class="layoutBorder flex">
          <h1>Order # <%= newPONumber %></h1>
          <input type="hidden" name="poNum" value="<%= newPONumber %>">

          <a href="/inventory/po/previousItem/"
            ><button id="backwardsBtn" type="submit" class="poArrowSearchBtnLeft">
              <svg height="20" width="20">
                <polygon
                  points="20,20 0,10 20,0"
                  style="
                    fill: rgb(87, 87, 87);
                    stroke: rgb(3, 3, 3);
                    stroke-width: 1;
                  "
                />
              </svg></button
          ></a>

          <a href="/inventory/nextItem/"
            ><button id="forwardsBtn" type="submit" class="poArrowSearchBtnRight">
              <svg height="20" width="20">
                <polygon
                  points="0,20 20,10 0,0"
                  style="
                    fill: rgb(87, 87, 87);
                    stroke: rgb(3, 3, 3);
                    stroke-width: 1;
                  "
                />
              </svg>
            </button>
          </a>

          <button class="poBtns">Search</button>
          <select name="poSelection" id="poSelection" class="poBtns">
            <option value="ALL" selected>ALL</option>
            <option value="OPEN">OPEN</option>
            <option value="CLOSED">CLOSED</option>
          </select>
          <h1 class="poStatusText">PO Status: **NEW**</h1>
          <input type="hidden" name="poStatus" value="NEW">
        </div>
        <div id="vendorSelection" class="layoutBorder">
          <label for="vendor">Vendor:</label>
          <input type="text" name="vendor" value="SAMPLE VENDOR" size="30" />
          <button type="button" tooltip="test"><i class="fas fa-user-tie"></i></button>
        </div>
        <div class="layoutBorder">
          <label for="orderDate">Order Date:</label>
          <input id="orderDateInput" class="poSelectFields" type="date" name="orderDate" size="8" />
          <label for="expectedDate">Expected Date:</label>
          <input
            id="expectedDateInput"
            class="poSelectFields"
            type="date"
            name="expectedDate"
            size="8"
          />
          <label for="shippingMethod">Shipping Method:</label>
          <select name="shippingMethod" id="shippingMethod" class="poSelectFields">
            <option value="DELIVERY" selected>loopThruOptions</option>
            <option value="PICKUP">PICKUP</option>
            <option value="LTL">LTL</option>
          </select>         
          <label for="shipToLocation">Ship to Loation:</label>
            <select name="shipToLocation" id="shipToLocation" class="poSelectFields">
                <option value="loopThruOptions">loopThruOptions</option>
                <option value="1">1</option>
                <option value="2">2</option>
            </select>
            <label for="terms">Terms:</label>
            <select name="terms" id="terms" class="poSelectFields">
              <option value="ALL" selected>loopThruOptions</option>
              <option value="NET15">NET15</option>
              <option value="NET30">NET30</option>
              <option value="COD">COD</option>
            </select>
          <h3>Submitted by: <%= createdBy %></h3>
          <input type="hidden" name="createdBy" value="userName">
        </div>
        <hr />
        <h1>Line Items</h1>
        <div class="layoutBorder">
          <table id="poTable">
            <tr>
              <th class="poTableLine">Line</th>
              <th class="poTableItemNum">Item Num</th>
              <th class="poTableDescription">Description</th>
              <th class="poTableQuantity">Quantity</th>
              <th class="poTableUOM">UOM</th>
              <th class="poTableCost">Cost</th>
              <th class="poTableExtended">Extended</th>
              <th class="poTableDeleteBtn"></th>
            </tr>            
            <tr>
              <td class="poTableLine"><button id="poTableAddLineBtn" type="button">+</button></td>
              <td class="poTableItemNum"></td>
              <td class="poTableDescription"></td>
              <td class="poTableQuantity"></td>
              <td class="poTableUOM"></td>
              <td class="poTableCost"></td>
              <td class="poTableExtended"></td>
              <td class="poTableDeleteBtn"></td>
            </tr>
            <tr>
              <td class="poTableLine">1</td>
              <td class="poTableItemNum" contenteditable>test</td>
              <td class="poTableDescription" contenteditable>WHOLE DUCK</td>
              <td class="poTableQuantity" contenteditable>5</td>
              <td class="poTableUOM">EACH</td>
              <td class="poTableCost" contenteditable>5.00</td>
              <td class="poTableExtended">25.00</td>
              <td class="poTableDeleteBtn"><i id="poLineDeleteBtn" class="fas fa-minus-circle"></i></td>
            </tr>
          </table>
          <input id="poTableData" type="hidden" name="poTableData" value="">
          <h4 class="poSum">SUM: $xxx.xx</h4>
          <button id="poSaveBtn" class="poSum">Save</button>
        </div>
      </form>
    </div>

    <button>New</button>
    <button>Delete</button>
    <button>Print PO</button>
    <button>Print Receiver</button>
    <button>Receive PO</button>


    <script src="/js/purchaseOrder.js"></script>
  </body>
</html>
